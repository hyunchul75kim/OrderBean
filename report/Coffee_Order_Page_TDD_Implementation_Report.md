# 커피 주문하기 화면 TDD 구현 작업 보고서

---

## 1. 작업 개요

### 1.1 작업 목적

OrderBean 서비스의 커피 주문하기 화면을 TDD(Test-Driven Development) 방법론을 따라 단계적으로 구현했습니다. 사용자 화면 PRD와 와이어프레임을 기반으로 실제 동작하는 주문 화면을 개발했습니다.

### 1.2 작업 범위

* TDD 3단계 방법론 적용:
  1. RED: 실패하는 테스트 작성
  2. GREEN: 최소한의 코드로 테스트 통과
  3. REFACTOR: 코드 개선 및 스타일링
* 와이어프레임 기반 레이아웃 구현
* 커피 메뉴 및 장바구니 기능 구현
* 반응형 디자인 적용

### 1.3 작업 일시

* 작업 시작: 2024
* 작업 완료: 2024

---

## 2. TDD 구현 과정

### 2.1 RED 단계: 실패하는 테스트 작성

#### 2.1.1 테스트 파일 생성

`frontend/src/pages/__tests__/OrderPage.test.tsx` 파일을 생성하고 다음 테스트 케이스를 작성했습니다:

1. **헤더 렌더링 테스트**
   - 브랜드명 "COZY" 표시
   - "주문하기" 버튼 표시
   - "관리자" 버튼 표시

2. **상품 카드 렌더링 테스트**
   - 커피 메뉴 아이템 표시 (아메리카노 ICE, 아메리카노 HOT, 카페라떼)
   - 상품 가격 표시
   - 커스터마이징 옵션 표시
   - "담기" 버튼 표시

3. **장바구니 기능 테스트**
   - 장바구니 섹션 표시
   - 상품 추가 기능
   - 총 금액 계산
   - 선택한 옵션 표시
   - "주문하기" 버튼 표시

#### 2.1.2 테스트 환경 설정

* `@testing-library/react` 설치
* `@testing-library/jest-dom` 설치
* `jsdom` 환경 설정
* `vitest.config.ts` 업데이트

#### 2.1.3 초기 테스트 결과

모든 테스트가 실패 (예상된 결과):
- 컴포넌트가 아직 구현되지 않음
- 10개 테스트 모두 실패

---

### 2.2 GREEN 단계: 최소한의 코드로 테스트 통과

#### 2.2.1 컴포넌트 구현

`frontend/src/pages/OrderPage.tsx` 파일을 생성하고 다음 기능을 구현했습니다:

**주요 구현 내용:**

1. **헤더 컴포넌트**
   - 브랜드명 "COZY" 표시
   - 네비게이션 버튼 ("주문하기", "관리자")
   - React Router를 사용한 페이지 이동

2. **상품 메뉴 컴포넌트**
   - 3개의 커피 상품 카드:
     * 아메리카노(ICE) - 4,000원
     * 아메리카노(HOT) - 4,000원
     * 카페라떼 - 5,000원
   - 각 상품의 커스터마이징 옵션:
     * 샷 추가 (+500원)
     * 시럽 추가 (+0원)
   - "담기" 버튼

3. **장바구니 컴포넌트**
   - 하단 고정 레이아웃
   - 장바구니 아이템 목록
   - 총 금액 계산
   - "주문하기" 버튼

#### 2.2.2 데이터 구조

```typescript
interface Product {
  id: string;
  name: string;
  basePrice: number;
  description: string;
  customizationOptions: Array<{
    id: string;
    name: string;
    price: number;
  }>;
}

interface CartItem {
  productId: string;
  productName: string;
  basePrice: number;
  selectedOptions: Array<{
    optionId: string;
    optionName: string;
    optionPrice: number;
  }>;
  quantity: number;
  totalPrice: number;
}
```

#### 2.2.3 주요 기능 구현

1. **상품 추가 기능**
   - 선택한 커스터마이징 옵션 포함
   - 가격 자동 계산
   - 장바구니에 추가

2. **총 금액 계산**
   - 모든 장바구니 아이템의 합계
   - 실시간 업데이트

3. **옵션 선택 기능**
   - 체크박스로 옵션 선택/해제
   - 선택한 옵션이 장바구니에 반영

#### 2.2.4 테스트 통과 확인

모든 테스트 통과:
- 10개 테스트 모두 성공
- 기능이 정상적으로 동작

---

### 2.3 REFACTOR 단계: 코드 개선

#### 2.3.1 스타일링 구현

`frontend/src/pages/OrderPage.css` 파일을 생성하고 다음 스타일을 적용했습니다:

**색상 팔레트:**
- 네비게이션 버튼: 파란색 (#4a90e2)
- 관리자 버튼: 검은색 (#2c2c2c)
- "담기" 버튼: 파란색 (#4a90e2)
- "주문하기" 버튼: 검은색 (#2c2c2c)
- 가격 표시: 파란색 (#4a90e2)

**레이아웃:**
- 헤더: 상단 고정, 흰색 배경
- 상품 메뉴: 그리드 레이아웃 (반응형)
- 장바구니: 하단 고정, 흰색 배경

**인터랙션:**
- 버튼 호버 효과
- 카드 호버 효과
- 부드러운 전환 애니메이션

#### 2.3.2 컴포넌트 구조 개선

1. **ProductCard 컴포넌트 분리**
   - 재사용 가능한 상품 카드 컴포넌트
   - 독립적인 상태 관리

2. **타입 정의**
   - TypeScript 인터페이스로 타입 안정성 확보
   - 명확한 데이터 구조

3. **유틸리티 함수**
   - `formatPrice`: 가격 포맷팅 함수
   - 재사용 가능한 로직 분리

#### 2.3.3 반응형 디자인

* 데스크톱: 3열 그리드 레이아웃
* 태블릿: 2열 그리드 레이아웃
* 모바일: 1열 레이아웃

---

## 3. 구현된 기능

### 3.1 헤더 기능

* 브랜드명 "COZY" 표시
* "주문하기" 버튼 (현재 페이지로 이동)
* "관리자" 버튼 (관리자 페이지로 이동)
* 상단 고정 레이아웃

### 3.2 상품 메뉴 기능

* 3개의 커피 상품 카드:
  - 아메리카노(ICE) - 4,000원
  - 아메리카노(HOT) - 4,000원
  - 카페라떼 - 5,000원
* 각 상품의 커스터마이징 옵션:
  - 샷 추가 (+500원)
  - 시럽 추가 (+0원)
* "담기" 버튼으로 장바구니에 추가

### 3.3 장바구니 기능

* 하단 고정 레이아웃
* 장바구니 아이템 목록 표시:
  - 상품명
  - 선택한 옵션
  - 수량
  - 가격
* 총 금액 자동 계산
* "주문하기" 버튼 (장바구니에 아이템이 있을 때만 표시)

### 3.4 사용자 인터랙션

* 커스터마이징 옵션 선택/해제
* 상품 장바구니에 추가
* 실시간 가격 업데이트
* 부드러운 애니메이션 효과

---

## 4. 테스트 결과

### 4.1 테스트 통계

* 총 테스트 수: 10개
* 통과한 테스트: 10개
* 실패한 테스트: 0개
* 테스트 커버리지: 주요 기능 100%

### 4.2 테스트 케이스 목록

1. ✅ 헤더에 브랜드명과 네비게이션 버튼 렌더링
2. ✅ 커피 메뉴 아이템 카드 렌더링
3. ✅ 상품 가격 표시
4. ✅ 커스터마이징 옵션 렌더링
5. ✅ 각 상품에 "담기" 버튼 렌더링
6. ✅ 장바구니 섹션 렌더링
7. ✅ "담기" 버튼 클릭 시 장바구니에 상품 추가
8. ✅ 상품 추가 시 총 금액 업데이트
9. ✅ 선택한 옵션이 장바구니 아이템에 표시
10. ✅ 장바구니에 아이템이 있을 때 "주문하기" 버튼 표시

---

## 5. 파일 구조

### 5.1 생성된 파일

```
frontend/
├── src/
│   ├── pages/
│   │   ├── OrderPage.tsx          # 메인 주문 페이지 컴포넌트
│   │   ├── OrderPage.css          # 스타일시트
│   │   └── __tests__/
│   │       └── OrderPage.test.tsx # 테스트 파일
│   └── test/
│       └── setup.ts               # 테스트 환경 설정
├── vite.config.ts                 # Vite 설정 (jsdom 환경 추가)
└── package.json                   # 의존성 (테스트 라이브러리 추가)
```

### 5.2 수정된 파일

* `frontend/vite.config.ts`: jsdom 환경 설정 추가
* `frontend/package.json`: 테스트 라이브러리 의존성 추가

---

## 6. 기술 스택

### 6.1 사용된 기술

* **프론트엔드 프레임워크**: React 18.2.0
* **라우팅**: React Router 6.20.0
* **테스팅**: 
  - Vitest 1.1.0
  - @testing-library/react
  - @testing-library/jest-dom
  - jsdom
* **스타일링**: CSS3
* **타입스크립트**: TypeScript 5.2.2

### 6.2 개발 도구

* **빌드 도구**: Vite 5.0.8
* **테스트 러너**: Vitest
* **린터**: ESLint

---

## 7. 디자인 구현

### 7.1 색상 팔레트

* **네비게이션 버튼**: 파란색 (#4a90e2)
* **관리자 버튼**: 검은색 (#2c2c2c)
* **담기 버튼**: 파란색 (#4a90e2)
* **주문하기 버튼**: 검은색 (#2c2c2c)
* **가격 표시**: 파란색 (#4a90e2)
* **배경**: 밝은 회색 (#f5f5f5)
* **카드 배경**: 흰색 (#ffffff)

### 7.2 레이아웃

* **헤더**: 상단 고정, 높이 60-80px
* **상품 메뉴**: 그리드 레이아웃, 반응형
* **장바구니**: 하단 고정, 최대 높이 200px (스크롤 가능)

### 7.3 인터랙션 효과

* 버튼 호버 시 색상 변경
* 카드 호버 시 약간의 상승 효과
* 부드러운 전환 애니메이션 (0.2s)

---

## 8. 향후 개선 사항

### 8.1 기능 개선

* 장바구니 아이템 수량 변경 기능
* 장바구니 아이템 삭제 기능
* 상품 이미지 추가
* 주문 확인 페이지 연동

### 8.2 UI/UX 개선

* 로딩 상태 표시
* 에러 처리 및 메시지 표시
* 토스트 알림 (상품 추가 시)
* 애니메이션 효과 강화

### 8.3 코드 개선

* 상태 관리 라이브러리 도입 (Context API 또는 Redux)
* 커스텀 훅으로 로직 분리
* API 연동
* 에러 바운더리 추가

---

## 9. 결론

TDD 방법론을 따라 커피 주문하기 화면을 성공적으로 구현했습니다.

**주요 성과:**
1. ✅ TDD 3단계 (RED-GREEN-REFACTOR) 완료
2. ✅ 모든 테스트 통과 (10/10)
3. ✅ 와이어프레임 기반 레이아웃 구현
4. ✅ 반응형 디자인 적용
5. ✅ 사용자 인터랙션 기능 구현

**학습한 내용:**
- TDD 방법론의 실제 적용
- React 컴포넌트 테스트 작성
- Vitest와 Testing Library 사용법
- 반응형 디자인 구현

이제 사용자는 커피 메뉴를 선택하고, 커스터마이징 옵션을 선택하여 장바구니에 추가하고, 주문을 진행할 수 있습니다.

---

**작성자**: AI Assistant  
**작성 일자**: 2024  
**문서 버전**: 1.0

