# OrderBean PRD (Product Requirements Document)

---

## 1. 제품 개요

### 1.1 제품명

* **OrderBean**

### 1.2 제품 설명 (One-liner)

* 사용자의 커피 취향을 설문으로 파악해, 실패 없는 커피 선택과 주문을 돕는 개인 맞춤 커피 추천 웹서비스

### 1.3 문제 정의 (Problem Statement)

* 온라인 커피 구매자는 원두 종류와 정보가 너무 많고 전문 용어가 어려워 자신의 취향에 맞는 커피를 선택하지 못한다.
* 이로 인해 구매를 망설이거나 잘못된 선택으로 실패 경험을 반복하고 재구매로 이어지지 않는다.

### 1.4 제품 목표

* 커피 선택의 진입 장벽을 낮춰 구매 전환율을 높인다.
* 개인화 추천을 통해 고객 만족도와 재구매율을 높인다.

---

## 2. 타겟 사용자

### 2.1 주요 타겟

* 온라인에서 커피를 구매하는 입문자 및 라이트 유저
* 홈카페를 시작했으나 원두 선택에 어려움을 느끼는 사용자

### 2.2 사용자 니즈

* 나에게 맞는 커피를 쉽게 알고 싶다
* 실패 없는 선택을 하고 싶다
* 설명이 어렵지 않았으면 좋겠다

---

## 3. 핵심 사용자 여정 (User Journey)

1. OrderBean 접속
2. 취향 설문 시작
3. 설문 응답 입력
4. 맞춤 커피 추천 확인
5. 추천 커피 상세 확인
6. 주문 및 결제
7. 구매 후 만족도 평가
8. 개인화 추천 고도화

---

## 4. 기능적 요구사항 (Functional Requirements)

### FR-1. 취향 설문 수집 (고객)

* 사용자는 산미, 쓴맛, 고소함, 우유 여부 등 간단한 설문에 응답할 수 있어야 한다
* 설문은 5문항 이내로 구성되어야 한다

### FR-2. 개인 맞춤 커피 추천 (고객)

* 시스템은 설문 결과를 기반으로 커피 상품 3~5종을 추천해야 한다
* 각 추천 상품에는 추천 사유가 텍스트로 제공되어야 한다

### FR-3. 추천 결과 기반 주문 (고객)

* 사용자는 추천 결과에서 바로 상품 상세 및 주문이 가능해야 한다
* 분쇄도 및 수량을 선택할 수 있어야 한다
* 주문 완료 시 주문 번호를 제공해야 한다

### FR-4. 구매 후 피드백 수집 (고객)

* 사용자는 구매한 커피에 대해 만족도를 평가할 수 있어야 한다
* 평가는 1~5점 척도로 제공된다

### FR-5. 개인화 추천 고도화 (시스템)

* 사용자의 구매 및 평가 이력은 다음 추천에 반영되어야 한다

### FR-6. 상품 관리 (관리자)

* 관리자는 커피 상품을 등록, 수정, 삭제할 수 있어야 한다
* 상품에는 맛 속성 정보가 포함되어야 한다

### FR-7. 추천 로직 관리 (관리자)

* 관리자는 추천에 사용되는 속성 가중치를 설정할 수 있어야 한다

### FR-8. 운영 대시보드 (관리자)

* 관리자는 설문 참여 수, 추천 클릭률, 구매 전환율을 확인할 수 있어야 한다

---

## 5. 기술 스택 (Technology Stack)

### 5.1 프론트엔드 (UI)

* **사용 기술:** React
* **설명:** 빠른 프로토타입 또는 완성형 웹 인터페이스
* **구현 요구사항:**
  * React 기반 SPA(Single Page Application) 구조
  * 컴포넌트 기반 개발로 재사용성 및 유지보수성 확보
  * 반응형 디자인으로 모바일 환경 지원

### 5.2 백엔드 (API)

* **사용 기술:** FastAPI (Python)
* **설명:** 비동기 고성능 Python 웹 프레임워크
* **구현 요구사항:**
  * FastAPI를 활용한 RESTful API 설계
  * 비동기 처리로 높은 성능 및 동시성 지원
  * Python 기반 비즈니스 로직 구현
  * Pydantic을 활용한 데이터 검증 및 직렬화

### 5.3 데이터베이스

* **사용 기술:** PostgreSQL
* **설명:** 안정적이고 ORM 기반의 DB 설계
* **구현 요구사항:**
  * PostgreSQL 데이터베이스 사용
  * SQLAlchemy 또는 Tortoise ORM을 활용한 ORM 기반 데이터 모델링
  * 관계형 데이터 구조로 데이터 무결성 보장
  * 트랜잭션 관리 및 데이터 일관성 유지

### 5.4 인증/세션

* **사용 기술:** FastAPI Users, OAuth2
* **설명:** 로그인, JWT 인증
* **구현 요구사항:**
  * FastAPI Users 라이브러리를 활용한 사용자 인증 시스템
  * OAuth2 기반 인증 및 권한 관리
  * JWT(JSON Web Token)를 활용한 세션 관리
  * 비밀번호 해싱 및 보안 처리

### 5.5 테스트

* **사용 기술:** pytest
* **설명:** 단위/통합 테스트
* **구현 요구사항:**
  * pytest를 활용한 단위 테스트 작성
  * FastAPI TestClient를 활용한 API 통합 테스트
  * 테스트 커버리지 측정 및 품질 관리
  * CI/CD 파이프라인에 테스트 자동화 통합

### 5.6 문서화

* **사용 기술:** Swagger / ReDoc (FastAPI 자동 문서)
* **설명:** API 자동 문서 생성
* **구현 요구사항:**
  * FastAPI의 자동 OpenAPI 스키마 생성 활용
  * Swagger UI를 통한 인터랙티브 API 문서 제공
  * ReDoc을 통한 대안 문서 제공
  * API 엔드포인트별 상세 설명 및 예제 포함

### 5.7 배포/환경

* **사용 기술:** Render
* **설명:** 백엔드, DB, 프론트 통합 실행 환경 구성
* **구현 요구사항:**
  * Render 플랫폼을 활용한 통합 배포 환경 구성
  * 백엔드(FastAPI) 서비스 배포
  * PostgreSQL 데이터베이스 호스팅
  * 프론트엔드(React) 정적 사이트 배포
  * 환경 변수 관리 및 보안 설정
  * 자동 배포 및 롤백 기능 활용

---

## 6. 비기능적 요구사항 (Non-Functional Requirements)

### 6.1 성능

* 메인 페이지 로딩 시간은 3초 이내여야 한다
* 추천 결과는 설문 제출 후 2초 이내에 제공되어야 한다
* 동시 사용자 100명 환경을 지원해야 한다
* FastAPI의 비동기 처리로 높은 처리량 확보

### 6.2 보안

* 모든 인증 및 주문 트래픽은 HTTPS를 사용해야 한다
* 비밀번호는 단방향 해시로 저장해야 한다
* 관리자 페이지는 권한 기반 접근 제어를 적용한다
* OAuth2 및 JWT를 통한 안전한 인증 구현
* SQL Injection 및 XSS 공격 방지

### 6.3 확장성

* 추천 로직은 모듈화하여 교체 가능해야 한다
* API 기반 구조로 모바일 앱 확장을 고려한다
* FastAPI의 비동기 아키텍처로 수평 확장 지원
* Render 플랫폼의 자동 스케일링 기능 활용

### 6.4 사용성

* 설문 완료 시간은 3분 이내여야 한다
* 커피 전문 용어 사용을 최소화한다
* 모바일 환경에서도 주요 기능을 사용할 수 있어야 한다
* React 기반 반응형 UI로 다양한 디바이스 지원

### 6.5 개발 및 운영

* pytest를 활용한 자동화된 테스트로 코드 품질 보장
* Swagger/ReDoc을 통한 API 문서 자동화
* Render를 통한 통합 배포 환경으로 운영 효율성 확보
* 환경별 설정 분리 및 관리

---

## 7. Gherkin 기반 핵심 시나리오

### Scenario: 고객이 취향 설문 후 커피를 추천받고 주문한다

```
Given 고객이 OrderBean 메인 페이지에 접속해 있다
When 고객이 취향 설문을 완료한다
Then 고객 취향에 맞는 커피 3종이 추천된다

When 고객이 추천 커피를 선택해 주문한다
Then 주문이 성공적으로 생성되고 주문 번호가 표시된다
```

---

## 8. MVP 범위

### MVP 포함

* 취향 설문
* 커피 추천
* 추천 기반 주문
* 기본 관리자 상품 관리

### MVP 제외

* 정기 구독
* 고급 AI 추천 모델
* 알림 및 푸시 기능

---

## 9. 성공 지표 (KPI)

* 설문 완료율
* 추천 → 구매 전환율
* 재구매율
* 평균 만족도 점수

---

## 10. 가정 및 제약

* 토이 프로젝트 수준으로 개발한다
* 초기 트래픽은 소규모를 가정한다
* 결제는 테스트 환경으로 대체 가능하다
* Render 플랫폼의 무료/유료 플랜 제약을 고려한다

---

## 11. 향후 확장 방향

* AI 기반 추천 고도화
* 정기 배송 및 구독 모델
* 모바일 앱 출시
* 홈카페 레시피 추천 기능 추가

